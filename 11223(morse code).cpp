#include<bits/stdc++.h>
using namespace std;
int main()
{
	map<string,string> mp;
	string m[] = {".-",".---","...",".----",".-.-.-","---...","-...","-.-","-","..---","--..--","-.-.-.","-.-.",".-..","..-","...--","..--..","-...-","-..","--","...-","....-",".----.",".-.-.",".","-.",".--",".....","-.-.--","-....-","..-.","---","-..-","-....","-..-.","..--.-","--.",".--.","-.--","--...","-.--.",".-..-.","....","--.-","--..","---..","-.--.-",".--.-.","..",".-.","-----","----.",".-..."};
	string v[] = {"A","J","S","1",".",":","B","K","T","2",",",";","C","L","U","3","?","=","D","M","V","4","'","+","E","N","W","5","!","-","F","O","X","6","/","_","G","P","Y","7","(","\"","H","Q","Z","8",")","@","I","R","0","9","&"};	
	for(int i=0;i<53;i++)
	{
		mp[m[i]] = v[i];
	}
	int t;		string	str;
	cin>>t;
	getchar();
	for(int j=1;j<=t;j++)
	{
		getline(cin,str);
		str += ' ';
		cout<<"Message #"<<j<<endl;
		int l = str.length();
		string temp="";
		for(int i=0;i<l;i++)
		{
			if(i!=l-1 && str[i]==' ' && str[i+1]==' ')
				cout<<mp[temp]<<" ",		temp = "";
			else if(str[i]==' ')
				cout<<mp[temp],		temp = "";
			else
				temp += str[i];
		}
		cout<<endl<<endl;
	}
}
